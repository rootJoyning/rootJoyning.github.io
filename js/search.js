(()=>{var l={searchText:document.getElementById("search-text"),searchBtn:document.getElementById("search-btn"),searchClose:document.getElementById("search-close"),searchWrapper:document.getElementById("search-wrapper"),searchData:document.getElementById("search-data"),searchFrom:document.getElementById("search-from")};l.searchFrom.onsubmit=function(e){e.preventDefault()},l.searchBtn.onclick=function(){var r,o,e,t,a=l.searchText.value;(a=(e=>null==e?"":e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""))(a))&&(r=[],o=new RegExp("("+a.replace(/\s/g,"|")+")","gmi"),e=function(e){var t,a,s,n,c;(r=e.filter(function(e){return e=e,(t=o).test(e.title)||e.categories&&e.categories.some(function(e){return t.test(e.name)})||e.tags&&e.tags.some(function(e){return t.test(e.name)})||t.test(e.text);var t})).length&&(n=o,c=null,(e=r).forEach(function(a){for(c in a)"title"===c||"text"===c?a[c]=a[c].match(n)&&a[c].replace(n,'<strong class="search-STRONG">'+RegExp.$1+"</strong>")||a[c]:"categories"!==c&&"tags"!==c||a[c].length&&a[c].forEach(function(e,t){a[c][t].name=e.name.match(n)&&e.name.replace(n,'<strong class="search-STRONG">'+RegExp.$1+"</strong>")||e.name})}),r=e,e=l.searchWrapper,s=a=t="",r.forEach(function(e){s=a="",e.categories.length&&(s='<a href="'+e.categories[0].permalink+'" title="'+e.categories[0].slug+'" class="post-categories">'+e.categories[0].name+"</a>"),e.tags.length&&e.tags.forEach(function(e){a+='<a href="'+e.permalink+'" title="'+e.slug+'" class="post-tags"><i class="post-tags-icon iconfont icon-biaoqian"></i>'+e.name+"</a>"}),t+='<section class="search-data-item"><h3 class="search-data-title"><a href="/'+e.path+'" title="'+e.path+'" class="search-data-link">'+e.title+'</a></h3><p class="search-data-text">'+e.text+'</p><p  class="post-meta">'+s+a+'<span class="post-time">'+e.date.slice(0,10)+"</span></p></section>"}),e.innerHTML=t,l.searchData.style.display="block")},(t=new XMLHttpRequest).onreadystatechange=function(){if(4===t.readyState){if(!(200<=t.status&&t.status<300||304===t.status))throw new Error("Request was unsuccessful: "+t.status);e(JSON.parse(t.responseText))}},t.open("get","/content.json",!0),t.send(null))},l.searchClose.onclick=function(){l.searchData.style.display="none",l.searchWrapper.innerHTML=""}})();